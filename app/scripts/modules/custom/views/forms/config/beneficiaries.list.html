<script>

    // init textarea
    setTimeout(function () {
        $('textarea').height($('textarea')[0].scrollHeight);
        M.updateTextFields();
    });

</script>

<style>
    .dropzone .dz-preview .dz-details{
		padding: 3em 1em;
		color:#000000;
		background: rgba(255,255,255, 0.2) !important;
	}
    .percent-upload {
		display: none;
    }
    .remove-upload.btn-floating{
		position: absolute;
		top: -14px;
		right:-12px;
		z-index: 20;
		width: 30px;
	height: 30px;
	line-height: 30px;
		cursor: pointer !important;
	}
	.remove-upload.btn-floating i{
		font-size: 20px;
		line-height: 30px;
	}
	.dropzone .dz-preview .dz-details{
		padding: 3em 1em;
		color:#000000;
		background: rgba(255,255,255, 0.2) !important;
	}
</style>

<!-- bind html -->
<div class="row">
    <div class="col s12 m12 l12">
        <div class="card">

            <ul class="collection with-header">
                <li class="collection-header indigo lighten-1">
                    <h5 class="report-panel-title white-text">
                        <div>
                            <i class="material-icons left">location_on</i>Reporting Type Configuration
                        </div>
                    </h5>
                </li>

                <li class="collection-item avatar">

                    <!-- form -->

                    <div class="row" ng-show="!inputString">

                        <div style="padding:20px;">
                                <div>
                                    <div id="dropzone">
                                        <form ng-dropzone dropzone="dropzone" dropzone-config="master.uploadFileConfig"
                                            enctype="multipart/form-data" class="dropzone needsclick dz-clickable">
                                            <div class="fallback">
                                                <input name="file" type="file" multiple />
                                            </div>
                                            <div id="dropzone-message" class="center"></div>
                                            <div class="percent-upload">
                                                <div class=" percentage center" style="font-weight: 400;font-size: 48px; margin-top:30px;">
                                                </div>
                                                <div class="dz-progress progress">
                                                    <div class="indeterminate dz-upload" data-dz-uploadprogress>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                        </div>

                    </div>

                    <div class="row">
                        <div ng-show="inputString">
                            <div class="input-field col s12 m12 l12">
                                <textarea id="ngm-project-notes" type="text" class="validate materialize-textarea" name="notes"
                                    ng-model="master.definition">
                                                            									</textarea>
                                <label for="ngm-project-notes">Put Text Here</label>
                            </div>
                        </div>
                    </div>

                </li>
            </ul>

        </div>
    </div>
</div>
<div class="row remove">
    <div class="col s12 m12 l12">
        <div class="widget card-panel white grey-text text-darken-2">

            <!-- submission -->
            <div align="center">
                <button ng-show="inputString" data-target="save-modal" class="waves-effect waves-light btn" ng-click="master.validate()"
                    ng-cloak><i class="material-icons mirror right">send</i>{{'save_mayus' | translate}}</button>
                
                <button ng-show="!inputString" id="upload_file" class="waves-effect waves-light btn" ng-cloak><i
                class="material-icons mirror right">send</i>Save</button>

                <div ng-show="!inputString" id="delete_file" class="btn red">Remove ALl File</div>

                <!-- cancel new -->
                <button data-target="list-modal"
                    class="waves-effect waves-light btn modal-trigger grey">{{'cancel_mayus' | translate}}
                </button>

                <!-- cancel update -->
                <button data-target="summary-modal" class="waves-effect waves-light btn modal-trigger grey" ng-if="project.definition.project_status === 'active' ||
            										 project.definition.project_status === 'plan' || 
            										 project.definition.project_status === 'not_implemented'">{{'cancel_mayus' | translate}}
                </button>
                <button ng-show="!inputString" class="waves-effect waves-light btn blue" ng-click="master.switchInputFile()" ng-cloak> Input Data
                </button>
                <button ng-show="inputString" class="waves-effect waves-light btn blue" ng-click="master.switchInputFile()" ng-cloak> Upload File
                </button>

            </div>

        </div>
    </div>
</div>